package com.c23pc657.kramakata.ui.translatorimport android.content.Contextimport android.widget.Toastimport com.google.mlkit.common.model.DownloadConditionsimport com.google.mlkit.nl.translate.TranslateLanguageimport com.google.mlkit.nl.translate.Translationimport com.google.mlkit.nl.translate.TranslatorOptionsimport com.c23pc657.kramakata.databinding.ActivityMainBindingclass Translator(private val context: Context, private val binding: ActivityMainBinding) {    private var conditions = DownloadConditions.Builder()        .requireWifi()        .build()    fun translateText() {        val options = TranslatorOptions.Builder()            .setSourceLanguage(selectFrom())            .setTargetLanguage(selectTo())            .build()        val translator = Translation.getClient(options)        translator.downloadModelIfNeeded(conditions)            .addOnSuccessListener {                val inputText: String = binding.input.text.toString()                translator.translate(inputText)                    .addOnSuccessListener { translatedText ->                        binding.output.text = translatedText                    }                    .addOnFailureListener { exception ->                        Toast.makeText(context, exception.message, Toast.LENGTH_SHORT).show()                    }            }            .addOnFailureListener { exception ->                Toast.makeText(context, exception.message, Toast.LENGTH_SHORT).show()            }    }    private fun selectFrom(): String {        return when (binding.languageFrom.text.toString()) {            "" -> TranslateLanguage.INDONESIAN            "English" -> TranslateLanguage.ENGLISH            "India" -> TranslateLanguage.HINDI            "Bengali" -> TranslateLanguage.BENGALI            "Gujarati" -> TranslateLanguage.GUJARATI            "Tamil" -> TranslateLanguage.TAMIL            "Telugu" -> TranslateLanguage.TELUGU            else -> TranslateLanguage.INDONESIAN        }    }    private fun selectTo(): String {        return when (binding.languageTo.text.toString()) {            "" -> TranslateLanguage.ENGLISH            "English" -> TranslateLanguage.ENGLISH            "Indonesia" -> TranslateLanguage.INDONESIAN            "India" -> TranslateLanguage.HINDI            "Bengali" -> TranslateLanguage.BENGALI            "Gujarati" -> TranslateLanguage.GUJARATI            "Tamil" -> TranslateLanguage.TAMIL            "Telugu" -> TranslateLanguage.TELUGU            else -> TranslateLanguage.ENGLISH        }    }}